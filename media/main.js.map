{
  "version": 3,
  "sources": ["../node_modules/js-binary-schema-parser/lib/index.js", "../node_modules/js-binary-schema-parser/lib/parsers/uint8.js", "../node_modules/js-binary-schema-parser/lib/schemas/gif.js", "../node_modules/gifuct-js/lib/deinterlace.js", "../node_modules/gifuct-js/lib/lzw.js", "../node_modules/gifuct-js/lib/index.js", "../webview-src/index.ts"],
  "sourcesContent": ["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.loop = exports.conditional = exports.parse = void 0;\n\nvar parse = function parse(stream, schema) {\n  var result = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var parent = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : result;\n\n  if (Array.isArray(schema)) {\n    schema.forEach(function (partSchema) {\n      return parse(stream, partSchema, result, parent);\n    });\n  } else if (typeof schema === 'function') {\n    schema(stream, result, parent, parse);\n  } else {\n    var key = Object.keys(schema)[0];\n\n    if (Array.isArray(schema[key])) {\n      parent[key] = {};\n      parse(stream, schema[key], result, parent[key]);\n    } else {\n      parent[key] = schema[key](stream, result, parent, parse);\n    }\n  }\n\n  return result;\n};\n\nexports.parse = parse;\n\nvar conditional = function conditional(schema, conditionFunc) {\n  return function (stream, result, parent, parse) {\n    if (conditionFunc(stream, result, parent)) {\n      parse(stream, schema, result, parent);\n    }\n  };\n};\n\nexports.conditional = conditional;\n\nvar loop = function loop(schema, continueFunc) {\n  return function (stream, result, parent, parse) {\n    var arr = [];\n    var lastStreamPos = stream.pos;\n\n    while (continueFunc(stream, result, parent)) {\n      var newParent = {};\n      parse(stream, schema, result, newParent); // cases when whole file is parsed but no termination is there and stream position is not getting updated as well\n      // it falls into infinite recursion, null check to avoid the same\n\n      if (stream.pos === lastStreamPos) {\n        break;\n      }\n\n      lastStreamPos = stream.pos;\n      arr.push(newParent);\n    }\n\n    return arr;\n  };\n};\n\nexports.loop = loop;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.readBits = exports.readArray = exports.readUnsigned = exports.readString = exports.peekBytes = exports.readBytes = exports.peekByte = exports.readByte = exports.buildStream = void 0;\n\n// Default stream and parsers for Uint8TypedArray data type\nvar buildStream = function buildStream(uint8Data) {\n  return {\n    data: uint8Data,\n    pos: 0\n  };\n};\n\nexports.buildStream = buildStream;\n\nvar readByte = function readByte() {\n  return function (stream) {\n    return stream.data[stream.pos++];\n  };\n};\n\nexports.readByte = readByte;\n\nvar peekByte = function peekByte() {\n  var offset = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  return function (stream) {\n    return stream.data[stream.pos + offset];\n  };\n};\n\nexports.peekByte = peekByte;\n\nvar readBytes = function readBytes(length) {\n  return function (stream) {\n    return stream.data.subarray(stream.pos, stream.pos += length);\n  };\n};\n\nexports.readBytes = readBytes;\n\nvar peekBytes = function peekBytes(length) {\n  return function (stream) {\n    return stream.data.subarray(stream.pos, stream.pos + length);\n  };\n};\n\nexports.peekBytes = peekBytes;\n\nvar readString = function readString(length) {\n  return function (stream) {\n    return Array.from(readBytes(length)(stream)).map(function (value) {\n      return String.fromCharCode(value);\n    }).join('');\n  };\n};\n\nexports.readString = readString;\n\nvar readUnsigned = function readUnsigned(littleEndian) {\n  return function (stream) {\n    var bytes = readBytes(2)(stream);\n    return littleEndian ? (bytes[1] << 8) + bytes[0] : (bytes[0] << 8) + bytes[1];\n  };\n};\n\nexports.readUnsigned = readUnsigned;\n\nvar readArray = function readArray(byteSize, totalOrFunc) {\n  return function (stream, result, parent) {\n    var total = typeof totalOrFunc === 'function' ? totalOrFunc(stream, result, parent) : totalOrFunc;\n    var parser = readBytes(byteSize);\n    var arr = new Array(total);\n\n    for (var i = 0; i < total; i++) {\n      arr[i] = parser(stream);\n    }\n\n    return arr;\n  };\n};\n\nexports.readArray = readArray;\n\nvar subBitsTotal = function subBitsTotal(bits, startIndex, length) {\n  var result = 0;\n\n  for (var i = 0; i < length; i++) {\n    result += bits[startIndex + i] && Math.pow(2, length - i - 1);\n  }\n\n  return result;\n};\n\nvar readBits = function readBits(schema) {\n  return function (stream) {\n    var _byte = readByte()(stream); // convert the byte to bit array\n\n\n    var bits = new Array(8);\n\n    for (var i = 0; i < 8; i++) {\n      bits[7 - i] = !!(_byte & 1 << i);\n    } // convert the bit array to values based on the schema\n\n\n    return Object.keys(schema).reduce(function (res, key) {\n      var def = schema[key];\n\n      if (def.length) {\n        res[key] = subBitsTotal(bits, def.index, def.length);\n      } else {\n        res[key] = bits[def.index];\n      }\n\n      return res;\n    }, {});\n  };\n};\n\nexports.readBits = readBits;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _ = require(\"../\");\n\nvar _uint = require(\"../parsers/uint8\");\n\n// a set of 0x00 terminated subblocks\nvar subBlocksSchema = {\n  blocks: function blocks(stream) {\n    var terminator = 0x00;\n    var chunks = [];\n    var streamSize = stream.data.length;\n    var total = 0;\n\n    for (var size = (0, _uint.readByte)()(stream); size !== terminator; size = (0, _uint.readByte)()(stream)) {\n      // size becomes undefined for some case when file is corrupted and  terminator is not proper \n      // null check to avoid recursion\n      if (!size) break; // catch corrupted files with no terminator\n\n      if (stream.pos + size >= streamSize) {\n        var availableSize = streamSize - stream.pos;\n        chunks.push((0, _uint.readBytes)(availableSize)(stream));\n        total += availableSize;\n        break;\n      }\n\n      chunks.push((0, _uint.readBytes)(size)(stream));\n      total += size;\n    }\n\n    var result = new Uint8Array(total);\n    var offset = 0;\n\n    for (var i = 0; i < chunks.length; i++) {\n      result.set(chunks[i], offset);\n      offset += chunks[i].length;\n    }\n\n    return result;\n  }\n}; // global control extension\n\nvar gceSchema = (0, _.conditional)({\n  gce: [{\n    codes: (0, _uint.readBytes)(2)\n  }, {\n    byteSize: (0, _uint.readByte)()\n  }, {\n    extras: (0, _uint.readBits)({\n      future: {\n        index: 0,\n        length: 3\n      },\n      disposal: {\n        index: 3,\n        length: 3\n      },\n      userInput: {\n        index: 6\n      },\n      transparentColorGiven: {\n        index: 7\n      }\n    })\n  }, {\n    delay: (0, _uint.readUnsigned)(true)\n  }, {\n    transparentColorIndex: (0, _uint.readByte)()\n  }, {\n    terminator: (0, _uint.readByte)()\n  }]\n}, function (stream) {\n  var codes = (0, _uint.peekBytes)(2)(stream);\n  return codes[0] === 0x21 && codes[1] === 0xf9;\n}); // image pipeline block\n\nvar imageSchema = (0, _.conditional)({\n  image: [{\n    code: (0, _uint.readByte)()\n  }, {\n    descriptor: [{\n      left: (0, _uint.readUnsigned)(true)\n    }, {\n      top: (0, _uint.readUnsigned)(true)\n    }, {\n      width: (0, _uint.readUnsigned)(true)\n    }, {\n      height: (0, _uint.readUnsigned)(true)\n    }, {\n      lct: (0, _uint.readBits)({\n        exists: {\n          index: 0\n        },\n        interlaced: {\n          index: 1\n        },\n        sort: {\n          index: 2\n        },\n        future: {\n          index: 3,\n          length: 2\n        },\n        size: {\n          index: 5,\n          length: 3\n        }\n      })\n    }]\n  }, (0, _.conditional)({\n    lct: (0, _uint.readArray)(3, function (stream, result, parent) {\n      return Math.pow(2, parent.descriptor.lct.size + 1);\n    })\n  }, function (stream, result, parent) {\n    return parent.descriptor.lct.exists;\n  }), {\n    data: [{\n      minCodeSize: (0, _uint.readByte)()\n    }, subBlocksSchema]\n  }]\n}, function (stream) {\n  return (0, _uint.peekByte)()(stream) === 0x2c;\n}); // plain text block\n\nvar textSchema = (0, _.conditional)({\n  text: [{\n    codes: (0, _uint.readBytes)(2)\n  }, {\n    blockSize: (0, _uint.readByte)()\n  }, {\n    preData: function preData(stream, result, parent) {\n      return (0, _uint.readBytes)(parent.text.blockSize)(stream);\n    }\n  }, subBlocksSchema]\n}, function (stream) {\n  var codes = (0, _uint.peekBytes)(2)(stream);\n  return codes[0] === 0x21 && codes[1] === 0x01;\n}); // application block\n\nvar applicationSchema = (0, _.conditional)({\n  application: [{\n    codes: (0, _uint.readBytes)(2)\n  }, {\n    blockSize: (0, _uint.readByte)()\n  }, {\n    id: function id(stream, result, parent) {\n      return (0, _uint.readString)(parent.blockSize)(stream);\n    }\n  }, subBlocksSchema]\n}, function (stream) {\n  var codes = (0, _uint.peekBytes)(2)(stream);\n  return codes[0] === 0x21 && codes[1] === 0xff;\n}); // comment block\n\nvar commentSchema = (0, _.conditional)({\n  comment: [{\n    codes: (0, _uint.readBytes)(2)\n  }, subBlocksSchema]\n}, function (stream) {\n  var codes = (0, _uint.peekBytes)(2)(stream);\n  return codes[0] === 0x21 && codes[1] === 0xfe;\n});\nvar schema = [{\n  header: [{\n    signature: (0, _uint.readString)(3)\n  }, {\n    version: (0, _uint.readString)(3)\n  }]\n}, {\n  lsd: [{\n    width: (0, _uint.readUnsigned)(true)\n  }, {\n    height: (0, _uint.readUnsigned)(true)\n  }, {\n    gct: (0, _uint.readBits)({\n      exists: {\n        index: 0\n      },\n      resolution: {\n        index: 1,\n        length: 3\n      },\n      sort: {\n        index: 4\n      },\n      size: {\n        index: 5,\n        length: 3\n      }\n    })\n  }, {\n    backgroundColorIndex: (0, _uint.readByte)()\n  }, {\n    pixelAspectRatio: (0, _uint.readByte)()\n  }]\n}, (0, _.conditional)({\n  gct: (0, _uint.readArray)(3, function (stream, result) {\n    return Math.pow(2, result.lsd.gct.size + 1);\n  })\n}, function (stream, result) {\n  return result.lsd.gct.exists;\n}), // content frames\n{\n  frames: (0, _.loop)([gceSchema, applicationSchema, commentSchema, imageSchema, textSchema], function (stream) {\n    var nextCode = (0, _uint.peekByte)()(stream); // rather than check for a terminator, we should check for the existence\n    // of an ext or image block to avoid infinite loops\n    //var terminator = 0x3B;\n    //return nextCode !== terminator;\n\n    return nextCode === 0x21 || nextCode === 0x2c;\n  })\n}];\nvar _default = schema;\nexports[\"default\"] = _default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.deinterlace = void 0;\n\n/**\r\n * Deinterlace function from https://github.com/shachaf/jsgif\r\n */\nvar deinterlace = function deinterlace(pixels, width) {\n  var newPixels = new Array(pixels.length);\n  var rows = pixels.length / width;\n\n  var cpRow = function cpRow(toRow, fromRow) {\n    var fromPixels = pixels.slice(fromRow * width, (fromRow + 1) * width);\n    newPixels.splice.apply(newPixels, [toRow * width, width].concat(fromPixels));\n  }; // See appendix E.\n\n\n  var offsets = [0, 4, 2, 1];\n  var steps = [8, 8, 4, 2];\n  var fromRow = 0;\n\n  for (var pass = 0; pass < 4; pass++) {\n    for (var toRow = offsets[pass]; toRow < rows; toRow += steps[pass]) {\n      cpRow(toRow, fromRow);\n      fromRow++;\n    }\n  }\n\n  return newPixels;\n};\n\nexports.deinterlace = deinterlace;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.lzw = void 0;\n\n/**\r\n * javascript port of java LZW decompression\r\n * Original java author url: https://gist.github.com/devunwired/4479231\r\n */\nvar lzw = function lzw(minCodeSize, data, pixelCount) {\n  var MAX_STACK_SIZE = 4096;\n  var nullCode = -1;\n  var npix = pixelCount;\n  var available, clear, code_mask, code_size, end_of_information, in_code, old_code, bits, code, i, datum, data_size, first, top, bi, pi;\n  var dstPixels = new Array(pixelCount);\n  var prefix = new Array(MAX_STACK_SIZE);\n  var suffix = new Array(MAX_STACK_SIZE);\n  var pixelStack = new Array(MAX_STACK_SIZE + 1); // Initialize GIF data stream decoder.\n\n  data_size = minCodeSize;\n  clear = 1 << data_size;\n  end_of_information = clear + 1;\n  available = clear + 2;\n  old_code = nullCode;\n  code_size = data_size + 1;\n  code_mask = (1 << code_size) - 1;\n\n  for (code = 0; code < clear; code++) {\n    prefix[code] = 0;\n    suffix[code] = code;\n  } // Decode GIF pixel stream.\n\n\n  var datum, bits, count, first, top, pi, bi;\n  datum = bits = count = first = top = pi = bi = 0;\n\n  for (i = 0; i < npix;) {\n    if (top === 0) {\n      if (bits < code_size) {\n        // get the next byte\n        datum += data[bi] << bits;\n        bits += 8;\n        bi++;\n        continue;\n      } // Get the next code.\n\n\n      code = datum & code_mask;\n      datum >>= code_size;\n      bits -= code_size; // Interpret the code\n\n      if (code > available || code == end_of_information) {\n        break;\n      }\n\n      if (code == clear) {\n        // Reset decoder.\n        code_size = data_size + 1;\n        code_mask = (1 << code_size) - 1;\n        available = clear + 2;\n        old_code = nullCode;\n        continue;\n      }\n\n      if (old_code == nullCode) {\n        pixelStack[top++] = suffix[code];\n        old_code = code;\n        first = code;\n        continue;\n      }\n\n      in_code = code;\n\n      if (code == available) {\n        pixelStack[top++] = first;\n        code = old_code;\n      }\n\n      while (code > clear) {\n        pixelStack[top++] = suffix[code];\n        code = prefix[code];\n      }\n\n      first = suffix[code] & 0xff;\n      pixelStack[top++] = first; // add a new string to the table, but only if space is available\n      // if not, just continue with current table until a clear code is found\n      // (deferred clear code implementation as per GIF spec)\n\n      if (available < MAX_STACK_SIZE) {\n        prefix[available] = old_code;\n        suffix[available] = first;\n        available++;\n\n        if ((available & code_mask) === 0 && available < MAX_STACK_SIZE) {\n          code_size++;\n          code_mask += available;\n        }\n      }\n\n      old_code = in_code;\n    } // Pop a pixel off the pixel stack.\n\n\n    top--;\n    dstPixels[pi++] = pixelStack[top];\n    i++;\n  }\n\n  for (i = pi; i < npix; i++) {\n    dstPixels[i] = 0; // clear missing pixels\n  }\n\n  return dstPixels;\n};\n\nexports.lzw = lzw;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.decompressFrames = exports.decompressFrame = exports.parseGIF = void 0;\n\nvar _gif = _interopRequireDefault(require(\"js-binary-schema-parser/lib/schemas/gif\"));\n\nvar _jsBinarySchemaParser = require(\"js-binary-schema-parser\");\n\nvar _uint = require(\"js-binary-schema-parser/lib/parsers/uint8\");\n\nvar _deinterlace = require(\"./deinterlace\");\n\nvar _lzw = require(\"./lzw\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar parseGIF = function parseGIF(arrayBuffer) {\n  var byteData = new Uint8Array(arrayBuffer);\n  return (0, _jsBinarySchemaParser.parse)((0, _uint.buildStream)(byteData), _gif[\"default\"]);\n};\n\nexports.parseGIF = parseGIF;\n\nvar generatePatch = function generatePatch(image) {\n  var totalPixels = image.pixels.length;\n  var patchData = new Uint8ClampedArray(totalPixels * 4);\n\n  for (var i = 0; i < totalPixels; i++) {\n    var pos = i * 4;\n    var colorIndex = image.pixels[i];\n    var color = image.colorTable[colorIndex] || [0, 0, 0];\n    patchData[pos] = color[0];\n    patchData[pos + 1] = color[1];\n    patchData[pos + 2] = color[2];\n    patchData[pos + 3] = colorIndex !== image.transparentIndex ? 255 : 0;\n  }\n\n  return patchData;\n};\n\nvar decompressFrame = function decompressFrame(frame, gct, buildImagePatch) {\n  if (!frame.image) {\n    console.warn('gif frame does not have associated image.');\n    return;\n  }\n\n  var image = frame.image; // get the number of pixels\n\n  var totalPixels = image.descriptor.width * image.descriptor.height; // do lzw decompression\n\n  var pixels = (0, _lzw.lzw)(image.data.minCodeSize, image.data.blocks, totalPixels); // deal with interlacing if necessary\n\n  if (image.descriptor.lct.interlaced) {\n    pixels = (0, _deinterlace.deinterlace)(pixels, image.descriptor.width);\n  }\n\n  var resultImage = {\n    pixels: pixels,\n    dims: {\n      top: frame.image.descriptor.top,\n      left: frame.image.descriptor.left,\n      width: frame.image.descriptor.width,\n      height: frame.image.descriptor.height\n    }\n  }; // color table\n\n  if (image.descriptor.lct && image.descriptor.lct.exists) {\n    resultImage.colorTable = image.lct;\n  } else {\n    resultImage.colorTable = gct;\n  } // add per frame relevant gce information\n\n\n  if (frame.gce) {\n    resultImage.delay = (frame.gce.delay || 10) * 10; // convert to ms\n\n    resultImage.disposalType = frame.gce.extras.disposal; // transparency\n\n    if (frame.gce.extras.transparentColorGiven) {\n      resultImage.transparentIndex = frame.gce.transparentColorIndex;\n    }\n  } // create canvas usable imagedata if desired\n\n\n  if (buildImagePatch) {\n    resultImage.patch = generatePatch(resultImage);\n  }\n\n  return resultImage;\n};\n\nexports.decompressFrame = decompressFrame;\n\nvar decompressFrames = function decompressFrames(parsedGif, buildImagePatches) {\n  return parsedGif.frames.filter(function (f) {\n    return f.image;\n  }).map(function (f) {\n    return decompressFrame(f, parsedGif.gct, buildImagePatches);\n  });\n};\n\nexports.decompressFrames = decompressFrames;", "import { decompressFrames, parseGIF } from 'gifuct-js';\n\n// VS Code acquire api (declared at runtime)\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nconst vscode = acquireVsCodeApi?.();\n\ninterface Frame {\n  delay: number; // ms\n  imageData: ImageData;\n}\n\nconst canvas = document.getElementById('canvas') as HTMLCanvasElement;\nconst ctx = canvas.getContext('2d')!;\nconst playBtn = document.getElementById('play') as HTMLButtonElement;\nconst prevBtn = document.getElementById('prev') as HTMLButtonElement;\nconst nextBtn = document.getElementById('next') as HTMLButtonElement;\nconst progress = document.getElementById('progress') as HTMLInputElement;\nconst speedSel = document.getElementById('speed') as HTMLSelectElement;\nconst infoEl = document.getElementById('info') as HTMLSpanElement;\n\nlet frames: Frame[] = [];\nlet current = 0;\nlet playing = false;\n// \u521D\u59CB\u500D\u901F\uFF08\u53EF\u7531\u6269\u5C55\u914D\u7F6E\u6CE8\u5165\uFF09\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nlet speed = (window.__initialPlaybackSpeed && !isNaN(window.__initialPlaybackSpeed)) ? Number(window.__initialPlaybackSpeed) : 1;\nlet rafHandle: number | null = null;\nlet lastTimestamp = 0;\nlet accumulated = 0; // ms\nlet totalDuration = 0;\nconst MAX_FRAMES_WARNING = 2000;\nlet logicalW = 0;\nlet logicalH = 0;\n\nfunction setInfo(text: string){\n  infoEl.textContent = text;\n}\n\nfunction arrayBufferFromBase64(b64: string): ArrayBuffer {\n  const bin = atob(b64);\n  const len = bin.length;\n  const buf = new Uint8Array(len);\n  for (let i=0;i<len;i++) buf[i] = bin.charCodeAt(i);\n  return buf.buffer;\n}\n\nasync function decode(base64: string){\n  try {\n    setInfo('\u89E3\u6790\u4E2D...');\n    const ab = arrayBufferFromBase64(base64);\n    const gif = parseGIF(ab);\n    const rawFrames = decompressFrames(gif, true);\n    if(!rawFrames.length){\n      setInfo('\u65E0\u6709\u6548\u5E27');\n      frames = [];\n      return;\n    }\n    // \u903B\u8F91\u753B\u5E03\u5C3A\u5BF8\uFF08GIF \u5168\u5C3A\u5BF8\uFF09\n  logicalW = (gif as any).lsd?.width || rawFrames[0].dims.width;\n  logicalH = (gif as any).lsd?.height || rawFrames[0].dims.height;\n\n  // \u5168\u5C3A\u5BF8\u5408\u6210\uFF1A\u9010\u5E27\u53E0\u52A0 patch\uFF0C\u5904\u7406 disposalType 0/1/2/3\n    const composed: Frame[] = [];\n  let baseForNext = new Uint8ClampedArray(logicalW * logicalH * 4); // \u5F53\u524D\u57FA\u5E95\uFF08\u4E0B\u4E00\u5E27\u5F00\u59CB\u524D\u7684\u753B\u5E03\uFF09\n  let previousFrameSnapshot: Uint8ClampedArray | null = null; // \u7ED9 disposal=3 \u4F7F\u7528\n\n    for(let i=0;i<rawFrames.length;i++){\n      const rf = rawFrames[i];\n      const disposal = rf.disposalType; // 0/1=\u4E0D\u5904\u7406,2=\u6062\u590D\u80CC\u666F,3=\u6062\u590D\u5230\u524D\u4E00\u72B6\u6001\n\n      // disposal=3 \u9700\u8981\u5728\u7ED8\u5236\u524D\u5FEB\u7167\n      if(disposal === 3){\n        previousFrameSnapshot = new Uint8ClampedArray(baseForNext); // \u4FDD\u5B58\u5F53\u524D\u57FA\u5E95\n      } else {\n        previousFrameSnapshot = null;\n      }\n\n      // \u57FA\u4E8E\u5F53\u524D\u57FA\u5E95\u590D\u5236\uFF0C\u7528\u4E8E\u672C\u5E27\u5408\u6210\n      const currentFull = new Uint8ClampedArray(baseForNext);\n      const { left, top, width: fw, height: fh } = rf.dims;\n      const patch = rf.patch as Uint8ClampedArray;\n      // \u5199\u5165 patch\uFF1A\u82E5 alpha=0 \u8DF3\u8FC7\u4EE5\u4FDD\u7559\u5E95\u5C42\n      for(let y=0;y<fh;y++){\n        for(let x=0;x<fw;x++){\n          const si = (y*fw + x)*4;\n          const alpha = patch[si+3];\n          if(alpha === 0) continue; // \u8DF3\u8FC7\u5B8C\u5168\u900F\u660E\u50CF\u7D20\n          const di = ((top + y)*logicalW + (left + x))*4;\n          currentFull[di] = patch[si];\n          currentFull[di+1] = patch[si+1];\n          currentFull[di+2] = patch[si+2];\n          currentFull[di+3] = alpha;\n        }\n      }\n\n      // \u8F93\u51FA\u5E27\n      const imageData = new ImageData(currentFull, logicalW, logicalH);\n      composed.push({ delay: Math.max(10, rf.delay || 0), imageData });\n\n      // \u51C6\u5907\u4E0B\u4E00\u5E27\u57FA\u5E95\n      switch(disposal){\n        case 2: { // \u6062\u590D\u80CC\u666F\uFF1A\u5148\u57FA\u4E8E currentFull\uFF0C\u518D\u6E05\u8BE5\u533A\u57DF\n          const nextBase = new Uint8ClampedArray(currentFull);\n          for(let y=0;y<fh;y++){\n            for(let x=0;x<fw;x++){\n              const di = ((top + y)*logicalW + (left + x))*4;\n              nextBase[di] = 0;\n              nextBase[di+1] = 0;\n              nextBase[di+2] = 0;\n              nextBase[di+3] = 0;\n            }\n          }\n          baseForNext = nextBase;\n          break; }\n        case 3: { // \u6062\u590D\u5230\u524D\u4E00\u72B6\u6001\n          if(previousFrameSnapshot){\n            baseForNext = new Uint8ClampedArray(previousFrameSnapshot);\n          } else {\n            baseForNext = new Uint8ClampedArray(currentFull); // \u56DE\u9000\u5931\u8D25\u5C31\u5F53\u4F5C\u4E0D\u5904\u7406\n          }\n          break; }\n        case 0:\n        case 1:\n        default:\n          baseForNext = new Uint8ClampedArray(currentFull);\n      }\n    }\n\n    frames = composed;\n    totalDuration = frames.reduce((a,f)=>a+f.delay,0);\n    progress.max = String(frames.length - 1);\n    // resize canvas\n  canvas.width = frames[0].imageData.width;\n  canvas.height = frames[0].imageData.height;\n  recalcScale();\n    current = 0;\n    drawFrame();\n    let extra = '';\n    if(frames.length > MAX_FRAMES_WARNING){\n      extra = ' \u26A0\u5927\u91CF\u5E27, \u6027\u80FD\u53EF\u80FD\u4E0B\u964D';\n    }\n    setInfo(`${frames.length} \u5E27 / ${(totalDuration/1000).toFixed(2)}s${extra}`);\n    // \u9ED8\u8BA4\u81EA\u52A8\u64AD\u653E\n    if(!playing){\n      play();\n    }\n  } catch (e){\n    console.error(e);\n    setInfo('\u89E3\u6790\u5931\u8D25');\n  }\n}\n\nfunction drawFrame(){\n  if(!frames.length) return;\n  const fr = frames[current];\n  ctx.putImageData(fr.imageData,0,0);\n  progress.value = String(current);\n}\n\nfunction recalcScale(){\n  if(!logicalW || !logicalH) return;\n  const parent = canvas.parentElement as HTMLElement;\n  if(!parent) return;\n  const pw = parent.clientWidth;\n  const ph = parent.clientHeight;\n  if(pw<=0 || ph<=0) return;\n  const scale = Math.min(pw / logicalW, ph / logicalH);\n  const displayW = Math.max(1, Math.floor(logicalW * scale));\n  const displayH = Math.max(1, Math.floor(logicalH * scale));\n  canvas.style.width = displayW + 'px';\n  canvas.style.height = displayH + 'px';\n}\n\nconst resizeObserver = new ResizeObserver(recalcScale);\nif(canvas.parentElement){\n  resizeObserver.observe(canvas.parentElement);\n}\n\nfunction stepPlay(timestamp: number){\n  if(!playing) return;\n  if(!lastTimestamp) lastTimestamp = timestamp;\n  const delta = timestamp - lastTimestamp;\n  lastTimestamp = timestamp;\n  accumulated += delta * speed;\n  let loops = 0;\n  while(accumulated >= frames[current].delay){\n    accumulated -= frames[current].delay;\n    current = (current + 1) % frames.length;\n    loops++;\n    if(loops>10) break; // avoid long blocking\n  }\n  drawFrame();\n  if(playing) rafHandle = requestAnimationFrame(stepPlay);\n}\n\nfunction play(){\n  if(!frames.length){return;}\n  playing = true;\n  playBtn.textContent = '\u23F8';\n  lastTimestamp = 0;\n  accumulated = 0;\n  rafHandle = requestAnimationFrame(stepPlay);\n}\nfunction pause(){\n  playing = false;\n  playBtn.textContent = '\u25B6';\n  if(rafHandle) cancelAnimationFrame(rafHandle);\n}\n\nplayBtn.addEventListener('click', ()=>{\n  playing ? pause() : play();\n});\nprevBtn.addEventListener('click', ()=>{\n  pause();\n  if(frames.length){\n    current = (current - 1 + frames.length) % frames.length;\n    drawFrame();\n  }\n});\nnextBtn.addEventListener('click', ()=>{\n  pause();\n  if(frames.length){\n    current = (current + 1) % frames.length;\n    drawFrame();\n  }\n});\nprogress.addEventListener('input', ()=>{\n  pause();\n  current = Number(progress.value);\n  drawFrame();\n});\n\nspeedSel.addEventListener('change', ()=>{\n  const v = Number(speedSel.value);\n  if(v < 0.1) speed = 0.1; else if(v>4) speed = 4; else speed = v;\n});\n\nwindow.addEventListener('message', (event)=>{\n  const msg = event.data;\n  if(msg.type === 'reload'){\n    decode(msg.data);\n  } else if(msg.type === 'copyResult'){\n    if(!msg.ok){\n      setInfo('\u590D\u5236\u5931\u8D25');\n      console.error(msg.message);\n    }\n  }\n});\n\n// \u952E\u76D8\u5FEB\u6377\u952E\uFF1A\u7A97\u53E3\u805A\u7126\u65F6\u751F\u6548\nwindow.addEventListener('keydown', (e)=>{\n  // \u907F\u514D\u5728\u53EF\u7F16\u8F91/\u8F93\u5165\u5143\u7D20\u4E2D\u89E6\u53D1\uFF08\u5F53\u524D\u65E0\u8F93\u5165\uFF0C\u4F46\u4FDD\u7559\u5065\u58EE\u6027\uFF09\n  const tag = (e.target as HTMLElement)?.tagName;\n  if(tag === 'INPUT' || tag === 'SELECT' || tag === 'TEXTAREA' || (e.target as HTMLElement)?.isContentEditable){\n    return;\n  }\n  if(e.code === 'Space'){\n    e.preventDefault();\n    playing ? pause() : play();\n  } else if(e.code === 'ArrowLeft'){\n    e.preventDefault();\n    pause();\n    if(frames.length){\n      current = (current - 1 + frames.length) % frames.length;\n      drawFrame();\n    }\n  } else if(e.code === 'ArrowRight'){\n    e.preventDefault();\n    pause();\n    if(frames.length){\n      current = (current + 1) % frames.length;\n      drawFrame();\n    }\n  } else if(e.code === 'ArrowUp'){\n    e.preventDefault();\n    // \u9884\u8BBE\u901F\u5EA6\u5217\u8868\uFF08\u6309\u4E0B\u4E00\u4E2A\u6863\u4F4D\u63D0\u5347\uFF09\n    const opts = Array.from(speedSel.options).map(o=>Number(o.value)).sort((a,b)=>a-b);\n    const currentIdx = opts.findIndex(v=>v >= speed);\n    let target: number;\n    if(currentIdx === -1){\n      target = opts[0];\n    } else {\n      // \u5982\u679C\u5F53\u524D\u6B63\u597D\u662F\u67D0\u4E2A\u6863\u4F4D\uFF0C\u5C31\u53D6\u4E0B\u4E00\u4E2A\uFF1B\u5426\u5219\u53D6\u5F53\u524DIdx\u5BF9\u5E94\u6863\u4F4D\n      if(opts[currentIdx] === speed){\n        target = opts[Math.min(opts.length-1, currentIdx+1)];\n      } else {\n        target = opts[currentIdx];\n      }\n    }\n    speed = target;\n    // \u540C\u6B65\u4E0B\u62C9\u9009\u4E2D\uFF08\u82E5\u5B58\u5728\u5BF9\u5E94\u503C\uFF09\n    const match = Array.from(speedSel.options).find(o=>Number(o.value)===speed);\n    if(match) speedSel.value = String(speed);\n  } else if(e.code === 'ArrowDown'){\n    e.preventDefault();\n    const opts = Array.from(speedSel.options).map(o=>Number(o.value)).sort((a,b)=>a-b);\n    const currentIdx = opts.findIndex(v=>v >= speed);\n    let target: number;\n    if(currentIdx === -1){\n      target = opts[0];\n    } else {\n      if(opts[currentIdx] === speed){\n        target = opts[Math.max(0, currentIdx-1)];\n      } else {\n        // speed \u4ECB\u4E8E\u4E24\u4E2A\u6863\u4E4B\u95F4\uFF0C\u964D\u4F4E\u5230\u524D\u4E00\u4E2A\u6863\u4F4D\n        target = opts[Math.max(0, currentIdx-1)];\n      }\n    }\n    speed = target;\n    const match = Array.from(speedSel.options).find(o=>Number(o.value)===speed);\n    if(match) speedSel.value = String(speed);\n  } else if((e.metaKey || e.ctrlKey) && e.code === 'KeyC'){\n    // \u590D\u5236 GIF \u539F\u59CB\u6587\u4EF6\u8DEF\u5F84\n    vscode?.postMessage({ type: 'copyGif' });\n  }\n});\n\n// \u521D\u59CB\u52A0\u8F7D\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nif(window.__initialGifBase64){\n  // @ts-ignore\n  decode(window.__initialGifBase64);\n} else {\n  vscode?.postMessage({ type: 'requestBytes' });\n}\n\n// \u540C\u6B65\u4E0B\u62C9\u6846\u663E\u793A\u521D\u59CB\u500D\u901F\uFF08\u82E5\u5339\u914D\u67D0\u4E2A option\uFF09\nconst matchInit = Array.from(speedSel.options).find(o=>Number(o.value)===speed);\nif(matchInit){\n  speedSel.value = String(speed);\n}\n\n// \u5927\u6587\u4EF6\u63D0\u793A\n// @ts-ignore\nif(window.__isLargeGif){\n  setInfo((infoEl.textContent ? infoEl.textContent + ' ' : '') + '\u26A0 \u6587\u4EF6\u8F83\u5927\uFF0C\u89E3\u6790\u53EF\u80FD\u8017\u65F6');\n}\n"],
  "mappings": "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",
  "names": ["require_lib", "__commonJSMin", "exports", "parse", "stream", "schema", "result", "parent", "partSchema", "key", "conditional", "conditionFunc", "loop", "continueFunc", "arr", "lastStreamPos", "newParent", "require_uint8", "__commonJSMin", "exports", "buildStream", "uint8Data", "readByte", "stream", "peekByte", "offset", "readBytes", "length", "peekBytes", "readString", "value", "readUnsigned", "littleEndian", "bytes", "readArray", "byteSize", "totalOrFunc", "result", "parent", "total", "parser", "arr", "i", "subBitsTotal", "bits", "startIndex", "readBits", "schema", "_byte", "res", "key", "def", "require_gif", "__commonJSMin", "exports", "_", "_uint", "subBlocksSchema", "stream", "terminator", "chunks", "streamSize", "total", "size", "availableSize", "result", "offset", "i", "gceSchema", "codes", "imageSchema", "parent", "textSchema", "applicationSchema", "commentSchema", "schema", "nextCode", "_default", "require_deinterlace", "__commonJSMin", "exports", "deinterlace", "pixels", "width", "newPixels", "rows", "cpRow", "toRow", "fromRow", "fromPixels", "offsets", "steps", "pass", "require_lzw", "__commonJSMin", "exports", "lzw", "minCodeSize", "data", "pixelCount", "MAX_STACK_SIZE", "nullCode", "npix", "available", "clear", "code_mask", "code_size", "end_of_information", "in_code", "old_code", "bits", "code", "i", "datum", "data_size", "first", "top", "bi", "pi", "dstPixels", "prefix", "suffix", "pixelStack", "count", "require_lib", "__commonJSMin", "exports", "_gif", "_interopRequireDefault", "_jsBinarySchemaParser", "_uint", "_deinterlace", "_lzw", "obj", "parseGIF", "arrayBuffer", "byteData", "generatePatch", "image", "totalPixels", "patchData", "i", "pos", "colorIndex", "color", "decompressFrame", "frame", "gct", "buildImagePatch", "pixels", "resultImage", "decompressFrames", "parsedGif", "buildImagePatches", "f", "import_gifuct_js", "vscode", "canvas", "ctx", "playBtn", "prevBtn", "nextBtn", "progress", "speedSel", "infoEl", "frames", "current", "playing", "speed", "rafHandle", "lastTimestamp", "accumulated", "totalDuration", "MAX_FRAMES_WARNING", "logicalW", "logicalH", "setInfo", "text", "arrayBufferFromBase64", "b64", "bin", "len", "buf", "i", "decode", "base64", "ab", "gif", "rawFrames", "composed", "baseForNext", "previousFrameSnapshot", "rf", "disposal", "currentFull", "left", "top", "fw", "fh", "patch", "x", "si", "alpha", "di", "imageData", "nextBase", "y", "a", "f", "recalcScale", "drawFrame", "extra", "play", "fr", "parent", "pw", "ph", "scale", "displayW", "displayH", "resizeObserver", "stepPlay", "timestamp", "delta", "loops", "pause", "v", "event", "msg", "e", "tag", "opts", "o", "b", "currentIdx", "target", "matchInit"]
}
